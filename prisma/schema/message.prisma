model Message {
  id             String       @id @default(uuid()) @db.Uuid
  conversationId String       @db.Uuid
  senderId       String       @db.Uuid

  content        String?
  fileUrl        String?

  clientMsgId    String?
  createdAt      DateTime     @default(now())

  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)

  lastMessageOf  Conversation? @relation("ConversationLastMessage")

  sender         User         @relation("SentMessages", fields: [senderId], references: [id], onDelete: Cascade)

  @@index([conversationId, createdAt])
  @@unique([conversationId, senderId, clientMsgId])
  messageReceipts MessageReceipt[]
}
