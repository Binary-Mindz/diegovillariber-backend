model XPost {
  id String @id @default(uuid()) @db.Uuid

  userId String @db.Uuid
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

  battleId String? @db.Uuid
  battle   Battle? @relation(fields: [battleId], references: [id], onDelete: SetNull)

  battleParticipantId String?            @db.Uuid
  battleParticipant   BattleParticipant? @relation(fields: [battleParticipantId], references: [id], onDelete: SetNull)

  challengeId String?    @db.Uuid
  challenge   Challenge? @relation(fields: [challengeId], references: [id], onDelete: SetNull)

  challengeParticipantId String?               @db.Uuid
  challengeParticipant   ChallengeParticipant? @relation(fields: [challengeParticipantId], references: [id], onDelete: SetNull)

  postType PostType @default(Battle_Post)

  mediaUrl String?

  caption String? @db.VarChar(2200)

  like    Int @default(0)
  comment Int @default(0)
  share   Int @default(0)

  createdAt           DateTime             @default(now())
  updatedAt           DateTime             @updatedAt
  challengeSubmission ChallengeSubmission?
  battleEntries       BattleEntry[]

  @@index([userId])
  @@index([battleId])
  @@index([challengeId])
  @@index([postType])
}
