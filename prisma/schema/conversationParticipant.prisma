model ConversationParticipant {
  id             String       @id @default(uuid()) @db.Uuid
  conversationId String       @db.Uuid
  userId         String       @db.Uuid

  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  user           User         @relation(fields: [userId], references: [id], onDelete: Cascade)

  // unread tracking
  lastReadAt     DateTime?
  unreadCount    Int          @default(0)

  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt

  @@unique([conversationId, userId])
  @@index([userId])
}